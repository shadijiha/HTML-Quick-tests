<html>
     <head>
          <script src="main.mjs"></script>
     </head>
     <body>
<script>
createCanvas(windowWidth, windowHeight, ["", "rgb(51,51,51)", 0]);

let radius = 1;

let pointA = {
     x: canvas.width / 2,
     y: 0
};

let pointB = {
     x: 100,
     y: canvas.height - 50
};

let pointC = {
     x: canvas.width - 100,
     y: canvas.height - 50
};

let points = [];

points.push(new Circle(pointA.x, pointA.y, radius * 2, ["black", "black", 1]));
points.push(new Circle(pointB.x, pointB.y, radius * 2, ["black", "black", 1]));
points.push(new Circle(pointC.x, pointC.y, radius * 2, ["black", "black", 1]));

let randomPoint = {
     x: random(0, canvas.width),
     y: random(0, canvas.height)
};

let fill;

let reprtation = 0;

function render()   {

     for (let i = 0; i < 1000; i++) {
          let r = random(0, 3, true);

          new Circle(randomPoint.x, randomPoint.y, radius, [fill, fill, 1]).draw();

          if (r == 0)    {
               randomPoint.x = (randomPoint.x + pointA.x) / 2;
               randomPoint.y = (randomPoint.y + pointA.y) / 2;
               fill = "rgb(255, 0, 255)";
          } else if (r == 1)    {
               randomPoint.x = (randomPoint.x + pointB.x) / 2;
               randomPoint.y = (randomPoint.y + pointB.y) / 2;
               fill = "rgb(255, 255, 0)";
          } else if (r == 2)    {
               randomPoint.x = (randomPoint.x + pointC.x) / 2;
               randomPoint.y = (randomPoint.y + pointC.y) / 2;
               fill = "rgb(0, 255, 255)";
          }
     }

     for (let point of points)     {
          point.draw();
     }
     stopClear();
     resumeClear(200, 200);
     new Text(floor(getFrameRate()), 100, 100, ["white", 32, "Arial"]).draw();

     reprtation += 1;

     if (reprtation >= 10)    {
          stopAnimation();
     }
}

clicked = () =>  {
     resumeAnimation();
     reprtation = 0;
}

</script>
     </body>
</html>
